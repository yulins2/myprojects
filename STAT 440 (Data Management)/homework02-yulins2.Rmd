---
title: "STAT 440 Statistical Data Management - Fall 2021"
output: html_document
---

## Homework02
### Due: Monday September 27, 2021 11:59 pm US Central Time
#### Created by Course Staff

Grading Rubric (per question):  
2 points if complete and correct  
1 point if incomplete or incorrect  
0 points if no attempt made  


**Retrieving your work**

This and all future homework .md files are written in Markdown. The .md file is rendered as an .html file for easier viewing. This and all future homework assignments are located in the **homework** directory within the **stat440-fa21-course-content** repo, i.e. **stat440-fa21-course-content/homework** in GHE. It is always recommended that you **pull** (or refresh) the **stat440-fa21-course-content** repo to ensure that you have the most updated version of all course content including the homework assignments. After pulling (or refreshing) the **stat440-fa21-course-content** repo, the homework file will be in the homework directory. Once you have accessed the .md file, copy all text from the .md file and paste all text into your reproducible document file (either .Rmd or .ipynb file). 

**Submitting your work**

In your individual student repo (named as your netID), you are to submit ***two*** files:

a. Your reproducible document file (either .Rmd or .ipynb file) which should be saved as homework##-netID.Rmd or homework##-netID.ipynb depending on your preferred software. For example, my homework 01 file would be saved as homework01-kinson2.Rmd.

b. Your rendered reproducible document file (.html) which should be saved as homework##-netID.html. For example, my homework 01 file would be saved as homework01-kinson2.html.

**Do not place your files in a sub-directory (or folder).** You have an unlimited number of submissions, but only the latest proper submission (commit and push) will be viewed and graded. You are allowed to only use one software language per homework file. This means that you cannot mix software languages (R and Python) in one single homework file. **Remember the .Rmd (or .ipynb) file needs to render properly to .html before submitting.** 


***

Undergraduates are expected to complete the problems **#1-#8**. Graduate students are expected to complete all problems.

**The following problems should be completed by you as an individual. If any problem asks you a particular question, be sure to answer it completely (with code, written sentences, or both). Written sentences should not appear in code chunks or code cells. Written sentences should appear in Markdown syntax unless specifically stated otherwise.**

***Do not change anything in this file above the double line. Doing so will prevent your homework from being graded.***

***
***

### Use only one programming language for this entire homework assignment. Use the URLs to access the data (if any). No local files allowed.

**#1** (Markdown) Using Markdown syntax, make a numbered list with your first name in normal text as the first item, your last name in bold text as the second item, and the country name of your current location as the third item.

1. Yulin
2. **Song**
3. United States of America

**#2** (Personal survey, Markdown) Think about the previous two weeks (your experiences, assignments, life). Using Markdown, describe in paragraph form (with at least 3 complete sentences) what was the most challenging part(s) about homework01, the most challenging part(s) about those weeks, and the thing(s) that made your weeks successful or unsuccessful.

Since I had some courses that use R and R markdown extensively so I did not encounter much difficulties with homework 1. In addition to previous experiences, I also believed my ability to search up for information and to ask for help is great. The only thing that was new to me was manually creating table in R markdown. 

**#3** (Structures of data, delimiters, and file extensions, Markdown) If a data file is given the .csv file extension, then the data file must be comma-separated. True or False? Write your answer in bold text. 

**False**

**#4** (Prior knowledge, Markdown) Consider the information in the image below and the image itself as a data set. Make 2 separate Markdown lists: one list contains 3 things you know to be true about the data set, and the other list contains 3 questions about the data set (i.e. things you want to know about the data). 

![pic03](https://uofi.box.com/shared/static/mgdjn8gtbhhyhs6502yrnu2wzhgh6yti.png)

Information Observed

* The figure is about new cases of Covid-19 according to UIUC testing program from its launch date to probably August of 2021.
* The new Covid-19 daily cases at UIUC came to a peak around the opening of Fall semester of 2020.
* There were very low daily new cases of Covid-19 during the months of May and June of 2021.

Information to be known

* How many people worked on this data visualization project?
* Does the cases included all non-UIUC member that was conducted by UIUC?
* What tool was used to present this?

**#5** (Prior knowledge, Markdown) Considering the image in **Problem 4** and using Markdown, create a Markdown table that shows how you would organize the data information into tabular form with at least 12 rows and at least 2 columns with column names. *Your table should have a header row that contains the column names and there should be 12 rows (excluding header) and 2 columns.* 

| Information Observed | Information to be known |
|:---------------------|:------------------------|
|The figure is about new cases of Covid-19 according to UIUC testing program from its launch date to probably August of 2021.|How many people worked on this data visualization project?|
|The new Covid-19 daily cases at UIUC came to a peak around the opening of Fall semester of 2020.|Does the cases included all non-UIUC member that was conducted by UIUC?|
|There were very low daily new cases of Covid-19 during the months of May and June of 2021.|What tool was used to present this?|
|&nbsp;|&nbsp;|
|&nbsp;|&nbsp;|
|&nbsp;|&nbsp;|
|&nbsp;|&nbsp;|
|&nbsp;|&nbsp;|
|&nbsp;|&nbsp;|
|&nbsp;|&nbsp;|
|&nbsp;|&nbsp;|
|&nbsp;|&nbsp;|
|&nbsp;|&nbsp;|

**#6** (Accessing and importing data) Import the members of the current US Congress Data using one programming language software and the data URL https://theunitedstates.io/congress-legislators/legislators-current.json. Now, print the structure of the data. **This structure should match the data description below.** 

  - The dataset (a .json file) contains the 538 members of the US Congress with 6 variables ("columns") per person which includes details about the legislators' first and last names, middle name, nickname, and suffixes. According to the GovTrack, "the United States Congress has two chambers, one called the Senate and the other called the House of Representatives (or "House" for short) which share the responsibilities of the legislative process to create federal statutory law." The original source is TheUnitedStates.io and GovTrack. **If you have difficulty accessing the file from the original source, please use this [legislators](https://github-dev.cs.illinois.edu/stat440-fa21/stat440-fa21-course-content/raw/master/data/legislators-data.json) file instead. If you are using Python, please use this [legislators-python](https://github-dev.cs.illinois.edu/stat440-fa21/stat440-fa21-course-content/raw/master/data/legislators-python-data.json) file instead.**

```{r}

library(jsonlite)
x <- fromJSON("https://theunitedstates.io/congress-legislators/legislators-current.json")
str(x$name)
```

**#7** (Web scraping for accessing and importing data, Accessing and importing data) Web scrape the Champaign County Assessor's [website](https://champaignil.devnetwedge.com/) to extract a property's Total Tax in US Dollars. Do this for the first 10 properties in the City of Urbana's [Rental Inspection Grades Listings Data01](https://github-dev.cs.illinois.edu/stat440-fa21/stat440-fa21-course-content/raw/master/data/rental-inspections-grades-data01.csv) and print the resulting 10 rows. **If you have difficulty accessing the information for scraping, please skip this problem. Keep in mind that only students outside of the US may have internet restrictions that prevent them from accessing the information from the original source.**

```{r}
library(tidyverse)
library(rvest)
y <- read_csv("https://raw.github-dev.cs.illinois.edu/stat440-fa21/stat440-fa21-course-content/master/data/rental-inspections-grades-data01.csv?token=AAAB25PHUPSUAH6Y5ZULO4LBLN7QQ")
ans_url <- paste0("https://champaignil.devnetwedge.com/parcel/view/", y$`Parcel Number`, "/2020")
ttl_tax_var <- rep(0,10)
for (i in 1:10) {
ttl_tax_var[i] <- html_text(html_nodes(read_html(ans_url[i]),"tr:nth-child(5) td:nth-child(3) .inner-value"))
}

ttl_tax_var

```

**#8** (Handling dates and times, Arranging data) Using the City of Urbana's [Rental Inspection Grades Listings Data02](https://github-dev.cs.illinois.edu/stat440-fa21/stat440-fa21-course-content/raw/master/data/rental-inspections-grades-data02.txt) - **this file is different from above**, ensure that the Inspection Date and Expiration Date columns are formatted as dates or datetimes; not character format. Now, arrange by the Inspection Date column in order of newest to oldest and print the first 10 rows of the resulting data.

```{r}

z <- read_delim("https://raw.github-dev.cs.illinois.edu/stat440-fa21/stat440-fa21-course-content/master/data/rental-inspections-grades-data01.csv?token=AAAB25PHUPSUAH6Y5ZULO4LBLN7QQ", 
    ",", escape_double = FALSE, trim_ws = TRUE)
z$`Inspection Date`<-as.Date(z$`Inspection Date`, format = "%m/%d/%Y")
z$`Expiration Date`<-as.Date(z$`Expiration Date`, format = "%m/%d/%Y")
z %>% 
  arrange(desc(`Inspection Date`)) %>%
  head(., 10)

```


**#9** (Accessing and importing data, Arranging data) Using the City of Urbana's [Rental Inspection Grades Listings Data02](https://github-dev.cs.illinois.edu/stat440-fa21/stat440-fa21-course-content/raw/master/data/rental-inspections-grades-data02.txt), organize the columns such that the first column of the data comes first in the alphabet, second column comes next in the alphabet, so on. Additionally, sort the Grade column so that the rows are in alphabetical order. Now, print the first 10 rows of the resulting data. **The Inspection Date and Expiration Date columns are assumed to be character format; they do not have to be date or datetime format in this problem.**



**#10** (Prior knowledge, Markdown, Structures of data, delimiters, and file extensions, Accessing and importing data) Is the data file in **Problem 9** organized such that it matches its file extension? **Your answer for this problem should be in Markdown syntax.**



